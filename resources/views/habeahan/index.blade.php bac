<x-app-layout>
    <x-slot name="header">
        <h2 class="font-semibold text-xl text-base-content leading-tight">
            {{ __('Habeahan') }}
        </h2>
    </x-slot>
    <x-slot name="menu">
        <span class="badge badge-info text-white">Habeahan</span>
    </x-slot>

    <div class="py-4">
        <div class="max-w-9xl mx-auto sm:px-6 lg:px-4">
            <div class="bg-base-100 overflow-hidden shadow-xs sm:rounded-lg p-4 space-y-4">
                <div class="flex justify-end">
                    <button class="btn btn-primary btn-soft" onclick="createModal.showModal()">+ Tambah Data</button>
                </div>

                <hr />

                <div class="overflow-x-auto">
                    <table class="border table">
                        <thead>
                            <!-- Baris 1: Nomor di atas kolom 1â€“26 -->
                            <tr class="bg-base-200">
                                <th rowspan="2" class="border">No Urut</th>
                                <th colspan="26" class="text-center">Nomor/Sundut</th>
                            </tr>
                            <!-- Baris 2: nomor 1 sampai 26 -->
                            <tr class="bg-base-200">
                                @for ($i = 1; $i <= 26; $i++)
                                    <th class="border">{{ $i }}</th>
                                @endfor

                            </tr>
                        </thead>
                        <tbody>
                            @php
                                $number = 1;
                            @endphp

                            @foreach ($data as $val)
                                @foreach ($val as $d)
                                    <tr>
                                        <td>{{$number++}}</td>
                                        @for ($i = 1; $i <= $d->sundut; $i++)
                                            <td class="max-w-10 p-0 border overflow-visible">
                                                <div class="inline-block bg-white whitespace-nowrap py-4 px-2">
                                                    <div class="flex flex-col">
                                                        @php
                                                            $urutan = $d->jenis_kelamin == 'P' ? $d->urutan_lahir . "b" : $d->urutan_lahir;
                                                        @endphp
                                                        <small
                                                            class="text-sm">{{ $i == $d->sundut ? "$d->sundut. $urutan/$d->jumlah_saudara" : '' }}</small>
                                                        <p class="font-bold">
                                                            {{ $i == $d->sundut ? $d->nama : '' }}
                                                        </p>
                                                        @if ($d->wilayah && $i == $d->sundut)
                                                            <small class="text-sm">
                                                                h : {{ $i == $d->sundut ? $d->wilayah : '' }}
                                                            </small>
                                                        @endif
                                                    </div>
                                                </div>
                                            </td>
                                        @endfor
                                    </tr>
                                @endforeach
                            @endforeach
                        </tbody>
                    </table>
                </div>



            </div>
        </div>
    </div>
</x-app-layout>